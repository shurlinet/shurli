<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 400" width="1200" height="400">
  <defs>
    <linearGradient id="bgD" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#141316"/>
      <stop offset="100%" style="stop-color:#1a191c"/>
    </linearGradient>
  </defs>
  <rect width="1200" height="400" fill="url(#bgD)"/>
  <!-- Transport stack visualization - QUIC preferred over TCP -->
  <!-- Transport layers stacked -->
  <rect x="100" y="130" width="300" height="44" rx="6" fill="#da1c5c" opacity="0.15"/>
  <text x="250" y="157" font-family="SF Mono, monospace" font-size="13" fill="#da1c5c" text-anchor="middle" opacity="0.8">QUIC (preferred)</text>
  <rect x="100" y="180" width="300" height="36" rx="6" fill="#e8729a" opacity="0.1"/>
  <text x="250" y="203" font-family="SF Mono, monospace" font-size="12" fill="#e8729a" text-anchor="middle" opacity="0.5">TCP</text>
  <rect x="100" y="222" width="300" height="32" rx="6" fill="#e8729a" opacity="0.06"/>
  <text x="250" y="243" font-family="SF Mono, monospace" font-size="11" fill="#e8729a" text-anchor="middle" opacity="0.3">WebSocket</text>
  <!-- RTT comparison -->
  <text x="250" y="115" font-family="system-ui, sans-serif" font-size="12" fill="#565f89" text-anchor="middle">Transport Priority</text>
  <!-- AutoNAT v2 - per-address reachability testing -->
  <circle cx="620" cy="160" r="50" fill="none" stroke="#bb9af7" stroke-width="1.5" opacity="0.4"/>
  <circle cx="620" cy="160" r="6" fill="#bb9af7" opacity="0.8"/>
  <!-- Outgoing test probes from center -->
  <line x1="620" y1="160" x2="560" y2="120" stroke="#bb9af7" stroke-width="1.5" opacity="0.4"/>
  <circle cx="555" cy="117" r="8" fill="none" stroke="#9ece6a" stroke-width="1.5"/>
  <text x="555" y="100" font-family="SF Mono, monospace" font-size="9" fill="#9ece6a" text-anchor="middle">IPv4</text>
  <line x1="620" y1="160" x2="680" y2="120" stroke="#bb9af7" stroke-width="1.5" opacity="0.4"/>
  <circle cx="685" cy="117" r="8" fill="none" stroke="#f7768e" stroke-width="1.5"/>
  <text x="685" y="100" font-family="SF Mono, monospace" font-size="9" fill="#f7768e" text-anchor="middle">IPv6</text>
  <line x1="620" y1="160" x2="560" y2="200" stroke="#bb9af7" stroke-width="1.5" opacity="0.4"/>
  <circle cx="555" cy="203" r="8" fill="none" stroke="#9ece6a" stroke-width="1.5"/>
  <text x="555" y="224" font-family="SF Mono, monospace" font-size="9" fill="#9ece6a" text-anchor="middle">QUIC</text>
  <line x1="620" y1="160" x2="680" y2="200" stroke="#bb9af7" stroke-width="1.5" opacity="0.4"/>
  <circle cx="685" cy="203" r="8" fill="none" stroke="#9ece6a" stroke-width="1.5"/>
  <text x="685" y="224" font-family="SF Mono, monospace" font-size="9" fill="#9ece6a" text-anchor="middle">TCP</text>
  <text x="620" y="270" font-family="system-ui, sans-serif" font-size="12" fill="#bb9af7" text-anchor="middle" opacity="0.7">AutoNAT v2</text>
  <text x="620" y="288" font-family="SF Mono, monospace" font-size="10" fill="#565f89" text-anchor="middle">per-address reachability</text>
  <!-- Smart dialing - address ranking -->
  <rect x="850" y="100" width="260" height="220" rx="10" fill="none" stroke="#222124" stroke-width="1"/>
  <text x="980" y="130" font-family="system-ui, sans-serif" font-size="12" fill="#565f89" text-anchor="middle">Smart Dialing</text>
  <!-- Ranked addresses -->
  <rect x="870" y="148" width="220" height="28" rx="5" fill="#9ece6a" opacity="0.15"/>
  <text x="880" y="167" font-family="SF Mono, monospace" font-size="11" fill="#9ece6a">1. /quic-v1  (fastest)</text>
  <rect x="870" y="184" width="220" height="28" rx="5" fill="#e8729a" opacity="0.1"/>
  <text x="880" y="203" font-family="SF Mono, monospace" font-size="11" fill="#e8729a">2. /tcp  (reliable)</text>
  <rect x="870" y="220" width="220" height="28" rx="5" fill="#e0af68" opacity="0.1"/>
  <text x="880" y="239" font-family="SF Mono, monospace" font-size="11" fill="#e0af68">3. /ws  (fallback)</text>
  <rect x="870" y="256" width="220" height="28" rx="5" fill="#565f89" opacity="0.08"/>
  <text x="880" y="275" font-family="SF Mono, monospace" font-size="11" fill="#565f89">4. /p2p-circuit</text>
  <text x="980" y="310" font-family="SF Mono, monospace" font-size="10" fill="#565f89" text-anchor="middle">sequential dial with failover</text>
</svg>
