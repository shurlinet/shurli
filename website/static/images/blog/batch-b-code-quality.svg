<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 400" width="1200" height="400">
  <defs>
    <linearGradient id="bgB" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#0f1117"/>
      <stop offset="100%" style="stop-color:#1a1b26"/>
    </linearGradient>
  </defs>
  <rect width="1200" height="400" fill="url(#bgB)"/>
  <!-- Abstract code structure - clean blocks representing deduplicated, well-structured code -->
  <!-- Before: scattered blocks (left side) -->
  <rect x="80" y="60" width="180" height="24" rx="4" fill="#f7768e" opacity="0.2"/>
  <rect x="80" y="92" width="140" height="24" rx="4" fill="#f7768e" opacity="0.2"/>
  <rect x="80" y="124" width="180" height="24" rx="4" fill="#f7768e" opacity="0.15"/>
  <rect x="80" y="168" width="180" height="24" rx="4" fill="#f7768e" opacity="0.2"/>
  <rect x="80" y="200" width="140" height="24" rx="4" fill="#f7768e" opacity="0.2"/>
  <rect x="80" y="232" width="180" height="24" rx="4" fill="#f7768e" opacity="0.15"/>
  <rect x="80" y="276" width="180" height="24" rx="4" fill="#f7768e" opacity="0.2"/>
  <rect x="80" y="308" width="140" height="24" rx="4" fill="#f7768e" opacity="0.2"/>
  <text x="170" y="365" font-family="SF Mono, monospace" font-size="12" fill="#f7768e" text-anchor="middle" opacity="0.5">4x duplication</text>
  <!-- Arrow -->
  <path d="M 420 200 L 520 200" stroke="#565f89" stroke-width="2" marker-end="url(#arrowB)"/>
  <defs>
    <marker id="arrowB" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#565f89"/>
    </marker>
  </defs>
  <text x="470" y="185" font-family="system-ui, sans-serif" font-size="12" fill="#565f89" text-anchor="middle">deduplicate</text>
  <!-- After: clean single block (right side) -->
  <rect x="580" y="120" width="240" height="160" rx="8" fill="none" stroke="#9ece6a" stroke-width="2" opacity="0.6"/>
  <rect x="600" y="140" width="200" height="20" rx="3" fill="#9ece6a" opacity="0.2"/>
  <rect x="600" y="168" width="160" height="20" rx="3" fill="#9ece6a" opacity="0.15"/>
  <rect x="600" y="196" width="200" height="20" rx="3" fill="#9ece6a" opacity="0.2"/>
  <rect x="600" y="224" width="140" height="20" rx="3" fill="#9ece6a" opacity="0.15"/>
  <text x="700" y="310" font-family="SF Mono, monospace" font-size="12" fill="#9ece6a" text-anchor="middle" opacity="0.5">BidirectionalProxy()</text>
  <!-- Error categorization - sentinel errors as labeled nodes -->
  <circle cx="960" cy="100" r="28" fill="none" stroke="#bb9af7" stroke-width="1.5" opacity="0.6"/>
  <text x="960" y="105" font-family="SF Mono, monospace" font-size="9" fill="#bb9af7" text-anchor="middle">ErrNotFound</text>
  <circle cx="1060" cy="140" r="28" fill="none" stroke="#bb9af7" stroke-width="1.5" opacity="0.6"/>
  <text x="1060" y="145" font-family="SF Mono, monospace" font-size="8" fill="#bb9af7" text-anchor="middle">ErrInvalid</text>
  <circle cx="960" cy="200" r="28" fill="none" stroke="#bb9af7" stroke-width="1.5" opacity="0.6"/>
  <text x="960" y="205" font-family="SF Mono, monospace" font-size="8" fill="#bb9af7" text-anchor="middle">ErrExists</text>
  <circle cx="1060" cy="260" r="28" fill="none" stroke="#bb9af7" stroke-width="1.5" opacity="0.6"/>
  <text x="1060" y="265" font-family="SF Mono, monospace" font-size="8" fill="#bb9af7" text-anchor="middle">ErrConfig</text>
  <!-- Connecting lines between error nodes -->
  <line x1="980" y1="120" x2="1040" y2="130" stroke="#bb9af7" stroke-width="1" opacity="0.3"/>
  <line x1="980" y1="190" x2="1040" y2="250" stroke="#bb9af7" stroke-width="1" opacity="0.3"/>
  <text x="1010" y="340" font-family="SF Mono, monospace" font-size="12" fill="#bb9af7" text-anchor="middle" opacity="0.5">sentinel errors</text>
</svg>
