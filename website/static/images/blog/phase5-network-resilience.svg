<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 340" width="700" height="340">
  <defs>
    <linearGradient id="bgGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#141316;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#1a191c;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="nodeGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#2c2a2e;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#1e1d20;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="relayGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#38353b;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#2a282c;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="accentGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#da1c5c;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#fbb040;stop-opacity:1" />
    </linearGradient>
  </defs>

  <!-- Background -->
  <rect width="700" height="340" rx="12" fill="url(#bgGrad)"/>

  <!-- Title -->
  <text x="350" y="28" font-family="system-ui, sans-serif" font-size="15" fill="#c0caf5" text-anchor="middle" font-weight="700">Phase 5: Automatic Network Resilience</text>
  <text x="350" y="46" font-family="system-ui, sans-serif" font-size="10" fill="#565f89" text-anchor="middle">Switch WiFi, plug cables, change networks. Shurli adapts in seconds.</text>

  <!-- Left column: Network types -->
  <rect x="20" y="62" width="180" height="262" rx="8" fill="url(#nodeGrad)" stroke="#565f89" stroke-width="0.5"/>
  <text x="110" y="82" font-family="system-ui, sans-serif" font-size="10" fill="#e8729a" text-anchor="middle" font-weight="600">5 Networks Tested</text>

  <!-- Network rows -->
  <rect x="30" y="94" width="160" height="30" rx="4" fill="#222124"/>
  <circle cx="44" cy="109" r="4" fill="#9ece6a"/>
  <text x="54" y="113" font-family="system-ui, sans-serif" font-size="9" fill="#c0caf5">Satellite WiFi (LAN)</text>
  <text x="180" y="113" font-family="system-ui, sans-serif" font-size="8" fill="#9ece6a" text-anchor="end">23ms</text>

  <rect x="30" y="130" width="160" height="30" rx="4" fill="#222124"/>
  <circle cx="44" cy="145" r="4" fill="#9ece6a"/>
  <text x="54" y="149" font-family="system-ui, sans-serif" font-size="9" fill="#c0caf5">Terrestrial WiFi</text>
  <text x="180" y="149" font-family="system-ui, sans-serif" font-size="8" fill="#9ece6a" text-anchor="end">23ms</text>

  <rect x="30" y="166" width="160" height="30" rx="4" fill="#222124"/>
  <circle cx="44" cy="181" r="4" fill="#9ece6a"/>
  <text x="54" y="185" font-family="system-ui, sans-serif" font-size="9" fill="#c0caf5">5G Hotspot</text>
  <text x="180" y="185" font-family="system-ui, sans-serif" font-size="8" fill="#9ece6a" text-anchor="end">~40ms</text>

  <rect x="30" y="202" width="160" height="30" rx="4" fill="#222124"/>
  <circle cx="44" cy="217" r="4" fill="#9ece6a"/>
  <text x="54" y="221" font-family="system-ui, sans-serif" font-size="9" fill="#c0caf5">USB LAN (IPv6)</text>
  <text x="180" y="221" font-family="system-ui, sans-serif" font-size="8" fill="#9ece6a" text-anchor="end">23ms</text>

  <rect x="30" y="238" width="160" height="30" rx="4" fill="#222124"/>
  <circle cx="44" cy="253" r="4" fill="#fbb040"/>
  <text x="54" y="257" font-family="system-ui, sans-serif" font-size="9" fill="#c0caf5">Cellular (CGNAT)</text>
  <text x="180" y="257" font-family="system-ui, sans-serif" font-size="8" fill="#fbb040" text-anchor="end">180ms</text>

  <!-- Legend -->
  <circle cx="40" cy="296" r="3" fill="#9ece6a"/>
  <text x="48" y="299" font-family="system-ui, sans-serif" font-size="8" fill="#565f89">DIRECT</text>
  <circle cx="100" cy="296" r="3" fill="#fbb040"/>
  <text x="108" y="299" font-family="system-ui, sans-serif" font-size="8" fill="#565f89">RELAYED</text>

  <!-- Center: Priority table -->
  <rect x="220" y="62" width="250" height="130" rx="8" fill="url(#nodeGrad)" stroke="#e8729a" stroke-width="1"/>
  <text x="345" y="82" font-family="system-ui, sans-serif" font-size="10" fill="#e8729a" text-anchor="middle" font-weight="600">Connection Priority</text>

  <!-- Priority 1 -->
  <rect x="232" y="92" width="226" height="24" rx="4" fill="#1a2e1a" stroke="#9ece6a" stroke-width="0.8"/>
  <text x="240" y="108" font-family="system-ui, sans-serif" font-size="9" fill="#9ece6a" font-weight="600">1.</text>
  <text x="258" y="108" font-family="system-ui, sans-serif" font-size="9" fill="#c0caf5">LAN (mDNS, private IPv4)</text>
  <text x="449" y="108" font-family="system-ui, sans-serif" font-size="8" fill="#9ece6a" text-anchor="end">~23ms</text>

  <!-- Priority 2 -->
  <rect x="232" y="122" width="226" height="24" rx="4" fill="#1a2528" stroke="#bb9af7" stroke-width="0.8"/>
  <text x="240" y="138" font-family="system-ui, sans-serif" font-size="9" fill="#bb9af7" font-weight="600">2.</text>
  <text x="258" y="138" font-family="system-ui, sans-serif" font-size="9" fill="#c0caf5">Direct IPv6 (path probing)</text>
  <text x="449" y="138" font-family="system-ui, sans-serif" font-size="8" fill="#bb9af7" text-anchor="end">~23ms</text>

  <!-- Priority 3 -->
  <rect x="232" y="152" width="226" height="24" rx="4" fill="#2a2218" stroke="#fbb040" stroke-width="0.8"/>
  <text x="240" y="168" font-family="system-ui, sans-serif" font-size="9" fill="#fbb040" font-weight="600">3.</text>
  <text x="258" y="168" font-family="system-ui, sans-serif" font-size="9" fill="#c0caf5">Relay (fallback)</text>
  <text x="449" y="168" font-family="system-ui, sans-serif" font-size="8" fill="#fbb040" text-anchor="end">~180ms</text>

  <!-- Center bottom: Timeline -->
  <rect x="220" y="200" width="250" height="124" rx="8" fill="url(#nodeGrad)" stroke="#565f89" stroke-width="0.5"/>
  <text x="345" y="220" font-family="system-ui, sans-serif" font-size="10" fill="#e8729a" text-anchor="middle" font-weight="600">Recovery Timeline</text>

  <text x="232" y="242" font-family="system-ui, sans-serif" font-size="8" fill="#565f89">0.0s</text>
  <text x="270" y="242" font-family="system-ui, sans-serif" font-size="8" fill="#c0caf5">Network change detected</text>

  <text x="232" y="258" font-family="system-ui, sans-serif" font-size="8" fill="#565f89">0.5s</text>
  <text x="270" y="258" font-family="system-ui, sans-serif" font-size="8" fill="#c0caf5">Stale connections closed</text>

  <text x="232" y="274" font-family="system-ui, sans-serif" font-size="8" fill="#565f89">0.5s</text>
  <text x="270" y="274" font-family="system-ui, sans-serif" font-size="8" fill="#c0caf5">Reconnect triggered</text>

  <text x="232" y="290" font-family="system-ui, sans-serif" font-size="8" fill="#565f89">5-10s</text>
  <text x="270" y="290" font-family="system-ui, sans-serif" font-size="8" fill="#c0caf5">mDNS / IPv6 probe</text>

  <text x="232" y="306" font-family="system-ui, sans-serif" font-size="8" fill="#9ece6a">5-15s</text>
  <text x="270" y="306" font-family="system-ui, sans-serif" font-size="9" fill="#9ece6a" font-weight="600">Connection restored</text>

  <!-- Right column: What changed -->
  <rect x="490" y="62" width="190" height="262" rx="8" fill="url(#nodeGrad)" stroke="#565f89" stroke-width="0.5"/>
  <text x="585" y="82" font-family="system-ui, sans-serif" font-size="10" fill="#e8729a" text-anchor="middle" font-weight="600">What Shipped</text>

  <text x="502" y="104" font-family="system-ui, sans-serif" font-size="8.5" fill="#9ece6a">Native mDNS</text>
  <text x="502" y="116" font-family="system-ui, sans-serif" font-size="7.5" fill="#565f89">dns_sd.h via CGo</text>

  <text x="502" y="136" font-family="system-ui, sans-serif" font-size="8.5" fill="#9ece6a">PeerManager</text>
  <text x="502" y="148" font-family="system-ui, sans-serif" font-size="7.5" fill="#565f89">Watchlist + reconnect loop</text>

  <text x="502" y="168" font-family="system-ui, sans-serif" font-size="8.5" fill="#9ece6a">Stale Cleanup</text>
  <text x="502" y="180" font-family="system-ui, sans-serif" font-size="7.5" fill="#565f89">Match IPs to removed interfaces</text>

  <text x="502" y="200" font-family="system-ui, sans-serif" font-size="8.5" fill="#9ece6a">IPv6 Path Probing</text>
  <text x="502" y="212" font-family="system-ui, sans-serif" font-size="7.5" fill="#565f89">Source-bound TCP, bypass utun</text>

  <text x="502" y="232" font-family="system-ui, sans-serif" font-size="8.5" fill="#9ece6a">LAN-First Connect</text>
  <text x="502" y="244" font-family="system-ui, sans-serif" font-size="7.5" fill="#565f89">Private IPv4 subnet filter</text>

  <text x="502" y="264" font-family="system-ui, sans-serif" font-size="8.5" fill="#9ece6a">Relay-Discard</text>
  <text x="502" y="276" font-family="system-ui, sans-serif" font-size="7.5" fill="#565f89">Direct always wins over relay</text>

  <text x="502" y="296" font-family="system-ui, sans-serif" font-size="8.5" fill="#9ece6a">Immediate Reconnect</text>
  <text x="502" y="308" font-family="system-ui, sans-serif" font-size="7.5" fill="#565f89">reconnectNow channel</text>
</svg>
