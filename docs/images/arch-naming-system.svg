<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 600 550" width="600" height="550">
  <defs>
    <linearGradient id="tierFill" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#2d3561;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#1e2140;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="inputFill" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#3b3078;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#251e50;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="errorFill" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#3a1e2f;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#2c1624;stop-opacity:1" />
    </linearGradient>
    <filter id="glow">
      <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
      <feMerge>
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
  </defs>

  <!-- Background -->
  <rect width="600" height="550" rx="12" fill="#0f1117"/>

  <!-- Title -->
  <text x="300" y="28" font-family="system-ui, sans-serif" font-size="14" fill="#c0caf5" text-anchor="middle" font-weight="600">Multi-Tier Name Resolution</text>
  <!-- Partial badge -->
  <rect x="445" y="10" width="145" height="22" rx="11" fill="#e0af68" opacity="0.15" stroke="#e0af68" stroke-width="1"/>
  <text x="517" y="25" font-family="SF Mono, monospace" font-size="10" fill="#e0af68" text-anchor="middle" font-weight="600">Tier 1 + 4 implemented</text>

  <!-- Input request -->
  <rect x="150" y="42" width="300" height="36" rx="8" fill="url(#inputFill)" stroke="#bb9af7" stroke-width="1.5"/>
  <text x="300" y="64" font-family="SF Mono, monospace" font-size="11" fill="#bb9af7" text-anchor="middle">ssh user@laptop.my-network</text>

  <!-- Arrow to Tier 1 -->
  <line x1="300" y1="78" x2="300" y2="103" stroke="#7aa2f7" stroke-width="1.5"/>
  <polygon points="295,100 305,100 300,108" fill="#7aa2f7"/>

  <!-- Tier 1: Local Override -->
  <rect x="75" y="110" width="350" height="65" rx="10" fill="url(#tierFill)" stroke="#9ece6a" stroke-width="1.3"/>
  <text x="120" y="130" font-family="system-ui, sans-serif" font-size="10" fill="#7aa2f7" font-weight="600">Tier 1</text>
  <text x="175" y="130" font-family="system-ui, sans-serif" font-size="11" fill="#c0caf5" font-weight="600">Local Override</text>
  <text x="380" y="130" font-family="SF Mono, monospace" font-size="8" fill="#9ece6a">IMPLEMENTED</text>
  <text x="250" y="150" font-family="SF Mono, monospace" font-size="9" fill="#565f89">Check: ~/.peerup/names.yaml</text>
  <text x="250" y="166" font-family="SF Mono, monospace" font-size="9" fill="#a9b1d6">laptop → 12D3KooW...</text>

  <!-- "Not found" arrow falling through -->
  <text x="470" y="145" font-family="SF Mono, monospace" font-size="9" fill="#f7768e" opacity="0.7">Not found</text>
  <line x1="300" y1="175" x2="300" y2="200" stroke="#f7768e" stroke-width="1" stroke-dasharray="4,3" opacity="0.5"/>
  <polygon points="296,197 304,197 300,204" fill="#f7768e" opacity="0.5"/>

  <!-- Tier 2: Network-Scoped -->
  <rect x="75" y="207" width="350" height="65" rx="10" fill="url(#tierFill)" stroke="#7aa2f7" stroke-width="1.3" stroke-dasharray="6,3"/>
  <text x="120" y="227" font-family="system-ui, sans-serif" font-size="10" fill="#7aa2f7" font-weight="600">Tier 2</text>
  <text x="200" y="227" font-family="system-ui, sans-serif" font-size="11" fill="#c0caf5" font-weight="600">Network-Scoped</text>
  <text x="380" y="227" font-family="SF Mono, monospace" font-size="8" fill="#e0af68">PLANNED</text>
  <text x="250" y="247" font-family="SF Mono, monospace" font-size="9" fill="#565f89">Parse: laptop.my-network</text>
  <text x="250" y="263" font-family="SF Mono, monospace" font-size="9" fill="#a9b1d6">Query: my-network relay for "laptop"</text>

  <!-- "Relay unreachable" arrow -->
  <text x="470" y="242" font-family="SF Mono, monospace" font-size="9" fill="#f7768e" opacity="0.7">Unreachable</text>
  <line x1="300" y1="272" x2="300" y2="297" stroke="#f7768e" stroke-width="1" stroke-dasharray="4,3" opacity="0.5"/>
  <polygon points="296,294 304,294 300,301" fill="#f7768e" opacity="0.5"/>

  <!-- Tier 3: Blockchain -->
  <rect x="75" y="304" width="350" height="65" rx="10" fill="url(#tierFill)" stroke="#7aa2f7" stroke-width="1.3" stroke-dasharray="6,3"/>
  <text x="120" y="324" font-family="system-ui, sans-serif" font-size="10" fill="#7aa2f7" font-weight="600">Tier 3</text>
  <text x="201" y="324" font-family="system-ui, sans-serif" font-size="11" fill="#c0caf5" font-weight="600">Blockchain (optional)</text>
  <text x="380" y="324" font-family="SF Mono, monospace" font-size="8" fill="#e0af68">PLANNED</text>
  <text x="250" y="344" font-family="SF Mono, monospace" font-size="9" fill="#565f89">Query: smart contract</text>
  <text x="250" y="360" font-family="SF Mono, monospace" font-size="9" fill="#a9b1d6">my-network.register["laptop"]</text>

  <!-- "Not registered" arrow -->
  <text x="470" y="339" font-family="SF Mono, monospace" font-size="9" fill="#f7768e" opacity="0.7">Not registered</text>
  <line x1="300" y1="369" x2="300" y2="394" stroke="#f7768e" stroke-width="1" stroke-dasharray="4,3" opacity="0.5"/>
  <polygon points="296,391 304,391 300,398" fill="#f7768e" opacity="0.5"/>

  <!-- Tier 4: Direct Peer ID -->
  <rect x="75" y="401" width="350" height="65" rx="10" fill="url(#tierFill)" stroke="#9ece6a" stroke-width="1.3"/>
  <text x="120" y="421" font-family="system-ui, sans-serif" font-size="10" fill="#7aa2f7" font-weight="600">Tier 4</text>
  <text x="197" y="421" font-family="system-ui, sans-serif" font-size="11" fill="#c0caf5" font-weight="600">Direct Peer ID</text>
  <text x="380" y="421" font-family="SF Mono, monospace" font-size="8" fill="#9ece6a">IMPLEMENTED</text>
  <text x="250" y="441" font-family="SF Mono, monospace" font-size="9" fill="#565f89">Try: peer.Decode("laptop.my-network")</text>
  <text x="250" y="457" font-family="SF Mono, monospace" font-size="9" fill="#a9b1d6">If valid peer ID → use directly</text>

  <!-- Final error -->
  <line x1="300" y1="466" x2="300" y2="491" stroke="#f7768e" stroke-width="1" stroke-dasharray="4,3" opacity="0.5"/>
  <polygon points="296,488 304,488 300,495" fill="#f7768e" opacity="0.5"/>

  <rect x="200" y="498" width="200" height="36" rx="8" fill="url(#errorFill)" stroke="#f7768e" stroke-width="1.2"/>
  <text x="300" y="520" font-family="SF Mono, monospace" font-size="10" fill="#f7768e" text-anchor="middle">Error: "Name not found"</text>

  <!-- Success arrows (any tier can resolve) -->
  <line x1="425" y1="142" x2="530" y2="142" stroke="#9ece6a" stroke-width="1.5" filter="url(#glow)"/>
  <polygon points="526,137 526,147 534,142" fill="#9ece6a"/>
  <line x1="425" y1="239" x2="530" y2="239" stroke="#9ece6a" stroke-width="1.5" filter="url(#glow)"/>
  <polygon points="526,234 526,244 534,239" fill="#9ece6a"/>
  <line x1="425" y1="336" x2="530" y2="336" stroke="#9ece6a" stroke-width="1.5" filter="url(#glow)"/>
  <polygon points="526,331 526,341 534,336" fill="#9ece6a"/>
  <line x1="425" y1="433" x2="530" y2="433" stroke="#9ece6a" stroke-width="1.5" filter="url(#glow)"/>
  <polygon points="526,428 526,438 534,433" fill="#9ece6a"/>

  <!-- Resolved labels -->
  <text x="552" y="146" font-family="SF Mono, monospace" font-size="9" fill="#9ece6a">Resolved →</text>
  <text x="552" y="243" font-family="SF Mono, monospace" font-size="9" fill="#9ece6a">Resolved →</text>
  <text x="552" y="340" font-family="SF Mono, monospace" font-size="9" fill="#9ece6a">Resolved →</text>
  <text x="552" y="437" font-family="SF Mono, monospace" font-size="9" fill="#9ece6a">Resolved →</text>
</svg>
